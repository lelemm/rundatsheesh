# Copy to `.env` (this repo ignores `.env` via .gitignore) and fill values.
#
# Public domain for the manager API (Caddy will terminate TLS for this host).
# - For local dev you can use: localhost
RDS_DOMAIN=localhost

# Email used for Let's Encrypt ACME registration (required for public domains).
# - For localhost dev, you can leave empty.
ACME_EMAIL=

# Manager API auth (send as `X-API-Key: <value>`).
# Generate a strong value, e.g.:
#   openssl rand -hex 32
API_KEY=change-me

# Admin UI login (Phase 4)
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=change-me

# Where manager state is stored on the host (VM rootfs clones, logs, snapshots).
RUN_DAT_SHEESH_DATA_DIR=./data

# Where uploaded guest images (kernel + rootfs.ext4) are stored on the host.
# This is mounted into the manager container at /var/lib/run-dat-sheesh/images by docker-compose.
RUN_DAT_SHEESH_IMAGES_DIR=./images

# Rootfs cloning strategy (auto, reflink, copy)
# Only used when ENABLE_OVERLAY=false (legacy mode)
ROOTFS_CLONE_MODE=auto

# OverlayFS mode (recommended): share read-only base rootfs, use per-VM overlay disks
# When enabled: near-instant VM provisioning, minimal disk usage per VM
# When disabled: full rootfs copy per VM (legacy mode)
ENABLE_OVERLAY=true

# Size of per-VM overlay disk in bytes (default: 512MB)
# This is a sparse file - only actual writes consume disk space
OVERLAY_SIZE_BYTES=536870912

# Optional snapshot support
ENABLE_SNAPSHOTS=false
SNAPSHOT_TEMPLATE_CPU=1
SNAPSHOT_TEMPLATE_MEM_MB=256

# Optional: override guest DNS resolver (nameserver) written inside the microVM.
# Default behavior: use the VM gateway IP (172.16.0.1) as DNS.
# In some prod setups, the gateway does not provide DNS; set this to a resolver you control (e.g. 1.1.1.1).
DNS_SERVER_IP=